{"version":3,"file":"injection.js","mappings":";;;;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,GAAG,iBAAiB;AACzC;AACA;AACA;AACA,QAAQ,mBAAO,CAAC,6CAAgB;AAChC,eAAe,mBAAO,CAAC,6CAAgB;AACvC,kBAAkB,mBAAO,CAAC,mDAAmB;AAC7C,cAAc,mBAAO,CAAC,+BAAS;AAC/B,aAAa,mBAAO,CAAC,6BAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB;AACrB;;;;;;;;;;AC1Ka;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,gBAAgB,mBAAO,CAAC,+CAAiB;AACzC,kBAAkB,mBAAO,CAAC,mDAAmB;AAC7C,kBAAkB,mBAAO,CAAC,mDAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS,gCAAgC,uBAAuB;AAChE;AACA;AACA,CAAC;AACD,0BAA0B;AAC1B;;;;;;;;;;AC9Fa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY,GAAG,aAAa;AAC5B,gBAAgB,mBAAO,CAAC,+CAAiB;AACzC,iBAAiB,mBAAO,CAAC,qCAAY;AACrC,cAAc,mBAAO,CAAC,+BAAS;AAC/B,yBAAyB,mBAAO,CAAC,qDAAoB;AACrD,qBAAqB,mBAAO,CAAC,yDAAsB;AACnD,kBAAkB,mBAAO,CAAC,mDAAmB;AAC7C,kBAAkB,mBAAO,CAAC,mDAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,2DAA2D;AACnH;AACA;AACA,uDAAuD,yDAAyD;AAChH;AACA;AACA,8DAA8D,gEAAgE;AAC9H;AACA;AACA;AACA;AACA;AACA,6FAA6F,sFAAsF;AACnL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa;AACb,YAAY;AACZ;;;;;;;;;;ACpFa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB,GAAG,yBAAyB,GAAG,sBAAsB,GAAG,wBAAwB,GAAG,wBAAwB,GAAG,yBAAyB,GAAG,+BAA+B,GAAG,mBAAmB;AACnN,kBAAkB,mBAAO,CAAC,mDAAmB;AAC7C,kBAAkB,mBAAO,CAAC,mDAAmB;AAC7C,aAAa,mBAAO,CAAC,6BAAQ;AAC7B,cAAc,mBAAO,CAAC,+BAAS;AAC/B,QAAQ,mBAAO,CAAC,6CAAgB;AAChC,mBAAmB,mBAAO,CAAC,yCAAc;AACzC,eAAe,mBAAO,CAAC,6CAAgB;AACvC;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,+CAA+C;AAC1G,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,gEAAgE;AACvI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC;AACD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,kBAAkB;AACxC,mBAAmB,kDAAkD;AACrE;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,0CAA0C;AAC3F;AACA;AACA;AACA;AACA,8BAA8B,0CAA0C;AACxE;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,+EAA+E;AACjI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,wBAAwB;AACxB;AACA;AACA;AACA;AACA,CAAC;AACD,wBAAwB;AACxB;AACA;AACA;AACA;AACA,CAAC;AACD,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;AACA,kDAAkD,cAAc;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;;;;;;;;;;ACnVa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa;AACb,gBAAgB,mBAAO,CAAC,+CAAiB;AACzC;AACA,IAAI,MAAM;AACV,IAAI,MAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uBAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uBAAuB;AACpD;AACA;AACA,6CAA6C,0BAA0B;AACvE;AACA;AACA;AACA;AACA,6BAA6B,uBAAuB;AACpD;AACA;AACA,oDAAoD,iCAAiC;AACrF;AACA;AACA;AACA;AACA,6BAA6B,uBAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uBAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,6BAA6B,uBAAuB;AACpD;AACA;AACA,yCAAyC,mCAAmC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uBAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uBAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa;AACb;;;;;;;;;;ACzPa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,iBAAiB;AAC9C,kBAAkB,mBAAO,CAAC,6CAAa;AACvC,kBAAkB,mBAAO,CAAC,6CAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,UAAU;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,0BAA0B;AAC1B;;;;;;;;;;ACnMa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,6BAA6B,GAAG,mBAAmB;AACrF,aAAa,mBAAO,CAAC,8BAAS;AAC9B,cAAc,mBAAO,CAAC,gCAAU;AAChC,kBAAkB,mBAAO,CAAC,6CAAa;AACvC;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,qDAAqD,yEAAyE;AAC9H,mDAAmD,uEAAuE;AAC1H,kDAAkD,sEAAsE;AACxH,mDAAmD,sCAAsC;AACzF,wCAAwC,0CAA0C;AAClF,wCAAwC,kCAAkC;AAC1E,8CAA8C,kEAAkE;AAChH,0CAA0C,kEAAkE;AAC5G,4CAA4C,8CAA8C;AAC1F,oDAAoD,wEAAwE;AAC5H,gDAAgD,oEAAoE;AACpH,4CAA4C,oEAAoE;AAChH,8CAA8C,gDAAgD;AAC9F,6CAA6C,iEAAiE;AAC9G,8CAA8C,iEAAiE;AAC/G,gDAAgD,4DAA4D;AAC5G,iDAAiD,4DAA4D;AAC7G;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,KAAK;AACL;AACA,+BAA+B;AAC/B;;;;;;;;;;ACnGa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,GAAG,iBAAiB,GAAG,mBAAmB,GAAG,eAAe,GAAG,6BAA6B,GAAG,6BAA6B,GAAG,gBAAgB,GAAG,yBAAyB;AAC1L,yBAAyB;AACzB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB;AAChB,mBAAmB,kBAAkB;AACrC,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,6BAA6B;AAC7B,6BAA6B;AAC7B,eAAe;AACf,mBAAmB;AACnB,iBAAiB;AACjB,eAAe;AACf;;;;;;;;;;AClDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,2BAA2B,GAAG,+BAA+B,GAAG,gCAAgC,GAAG,mCAAmC,GAAG,mCAAmC,GAAG,iCAAiC,GAAG,gCAAgC,GAAG,8BAA8B,GAAG,6BAA6B,GAAG,8BAA8B,GAAG,4BAA4B,GAAG,gCAAgC,GAAG,oCAAoC,GAAG,+BAA+B,GAAG,4BAA4B,GAAG,0BAA0B,GAAG,8BAA8B,GAAG,wBAAwB,GAAG,wBAAwB,GAAG,wBAAwB,GAAG,kCAAkC,GAAG,mCAAmC,GAAG,mCAAmC,GAAG,kCAAkC,GAAG,mCAAmC,GAAG,qCAAqC,GAAG,qBAAqB,GAAG,uBAAuB,GAAG,+BAA+B,GAAG,gCAAgC;AACzgC,gCAAgC;AAChC,+BAA+B;AAC/B,uBAAuB;AACvB,qBAAqB;AACrB,qCAAqC;AACrC,mCAAmC;AACnC,kCAAkC;AAClC,mCAAmC;AACnC,mCAAmC;AACnC,kCAAkC;AAClC,wBAAwB;AACxB,wBAAwB;AACxB,wBAAwB;AACxB,8BAA8B;AAC9B,0BAA0B;AAC1B,4BAA4B;AAC5B,+BAA+B;AAC/B,oCAAoC;AACpC,gCAAgC;AAChC,4BAA4B;AAC5B,8BAA8B;AAC9B,6BAA6B;AAC7B,8BAA8B;AAC9B,gCAAgC;AAChC,iCAAiC;AACjC,mCAAmC;AACnC,mCAAmC;AACnC,gCAAgC;AAChC,+BAA+B;AAC/B,2BAA2B;AAC3B,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACjDa;AACb;AACA,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,GAAG,sBAAsB,GAAG,gBAAgB,GAAG,gBAAgB,GAAG,gBAAgB,GAAG,YAAY,GAAG,kBAAkB,GAAG,+BAA+B,GAAG,+BAA+B,GAAG,kBAAkB,GAAG,gBAAgB,GAAG,sBAAsB,GAAG,oBAAoB,GAAG,qBAAqB,GAAG,0BAA0B,GAAG,wBAAwB,GAAG,oBAAoB,GAAG,6BAA6B,GAAG,6BAA6B,GAAG,uBAAuB;AACze,kBAAkB,mBAAO,CAAC,6CAAa;AACvC,aAAa,mBAAO,CAAC,8BAAS;AAC9B;AACA;AACA,uBAAuB;AACvB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,oBAAoB;AACpB;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,4BAA4B;AAC5B;AACA;AACA;AACA,6DAA6D,gBAAgB;AAC7E,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,4BAA4B;AAC5B;AACA,uCAAuC,2BAA2B;AAClE;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,gBAAgB;AAChB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,sBAAsB;AACtB;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,sBAAsB;AACtB;;;;;;;;;;AC9La;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB,kBAAkB,mBAAO,CAAC,6CAAa;AACvC,kBAAkB,mBAAO,CAAC,6CAAa;AACvC,oBAAoB;AACpB,eAAe;AACf,aAAa;AACb,mBAAmB;AACnB;AACA,0FAA0F,UAAU,QAAQ,uBAAuB,oBAAoB,aAAa,8DAA8D,gBAAgB;AAClP,oFAAoF;AACpF,yFAAyF,8BAA8B,uBAAuB,aAAa,cAAc;AACzK,4KAA4K,cAAc;AAC1L,qMAAqM;AACrM,0NAA0N;AAC1N;AACA;AACA;AACA,gFAAgF,gCAAgC;AAChH;AACA;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD,6FAA6F,oBAAoB,gBAAgB;AACjI,2FAA2F,UAAU,SAAS,cAAc,uBAAuB,eAAe;AAClK;AACA,4FAA4F,iCAAiC,cAAc,eAAe,oBAAoB,mBAAmB;AACjM,kGAAkG,WAAW,UAAU,YAAY,kBAAkB,aAAa,kBAAkB,yBAAyB,eAAe,oBAAoB,0BAA0B,oBAAoB,8BAA8B;AAC5T,sFAAsF,cAAc,eAAe,8BAA8B,oDAAoD;AACrM,6FAA6F,qBAAqB,qCAAqC,kBAAkB;AACzK,qFAAqF,yDAAyD,qBAAqB,iCAAiC,sEAAsE,6DAA6D,oDAAoD;AAC3X,0HAA0H,eAAe,0BAA0B,sBAAsB,gBAAgB,+CAA+C,yDAAyD,sEAAsE;AACvX,+FAA+F;AAC/F,2FAA2F;AAC3F,qFAAqF,aAAa,cAAc,WAAW,UAAU;AACrI,0FAA0F,0BAA0B,mFAAmF,sBAAsB,0DAA0D,gBAAgB;AACvS;;;;;;UCvCA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;;ACtBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa,mBAAO,CAAC,6BAAQ;AAC7B,kBAAkB,mBAAO,CAAC,mDAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qC","sources":["webpack://my-webpack-project/./src/actionDispatcher.js","webpack://my-webpack-project/./src/components.js","webpack://my-webpack-project/./src/core.js","webpack://my-webpack-project/./src/services.js","webpack://my-webpack-project/./src/state.js","webpack://my-webpack-project/./src/utils/classes.js","webpack://my-webpack-project/./src/utils/connector.js","webpack://my-webpack-project/./src/utils/constants.js","webpack://my-webpack-project/./src/utils/events.js","webpack://my-webpack-project/./src/utils/funcTools.js","webpack://my-webpack-project/./src/utils/styles_sheet.js","webpack://my-webpack-project/webpack/bootstrap","webpack://my-webpack-project/./src/injection.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InstallAction = exports.ActionSet = void 0;\r\n/**\r\n * 这个文件用来处理用户行为事件的分发\r\n * */\r\nvar E = require(\"./utils/events\");\r\nvar events_1 = require(\"./utils/events\");\r\nvar funcTools_1 = require(\"./utils/funcTools\");\r\nvar state_1 = require(\"./state\");\r\nvar core_1 = require(\"./core\");\r\nvar frameDrawing = {\r\n    triggered: function (e) {\r\n        if (e.ctrlKey && e.altKey && (e.key === \"e\" || e.key === \"E\")) {\r\n            if (state_1.STATE.FRAME_DRAWING.NO(state_1.STATE.FRAME_DRAWING.TRIGGERED))\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_DRAWING_TRIGGERED);\r\n        }\r\n    },\r\n    stop_failed: function (e) {\r\n        if (e.code === \"Escape\") {\r\n            if (state_1.STATE.FRAME_DRAWING.HAS(state_1.STATE.FRAME_DRAWING.TRIGGERED)) {\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_DRAWING_STOPPED);\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_DRAWING_FAIELD);\r\n            }\r\n        }\r\n    },\r\n    start: function (e) {\r\n        if (e.button == 0 && state_1.STATE.FRAME_DRAWING.HAS(state_1.STATE.FRAME_DRAWING.TRIGGERED)) {\r\n            (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_DRAWING_SATRTED, e);\r\n        }\r\n    },\r\n    moving: function (e) {\r\n        if (state_1.STATE.MOUSE.LBTN_HOLDING && state_1.STATE.FRAME_DRAWING.HAS(state_1.STATE.FRAME_DRAWING.STARTED)) {\r\n            (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_DRAWING_MOVING, e);\r\n        }\r\n    },\r\n    stop: function (e) {\r\n        if (state_1.STATE.FRAME_DRAWING.HAS(state_1.STATE.FRAME_DRAWING.STARTED)) {\r\n            (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_DRAWING_STOPPED, e);\r\n        }\r\n    }\r\n};\r\nvar tempframe = {\r\n    move: {\r\n        begin: function (e) {\r\n            var ST = state_1.STATE.TEMPFRAME;\r\n            if (funcTools_1.TargetIs.tempFrameHeaderMoveBar(e.target)\r\n                && ST.NOGROUP(ST.Groups.MOVE)) {\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_MOVE_BEGIN, e);\r\n            }\r\n        },\r\n        ing: function (e) {\r\n            var ST = state_1.STATE.TEMPFRAME;\r\n            if (state_1.STATE.MOUSE.HAS(state_1.STATE.MOUSE.LBTN_HOLDING)\r\n                && ST.ONLYGROUP(ST.Groups.MOVE)) {\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_MOVING, e);\r\n            }\r\n        },\r\n        end: function (e) {\r\n            var ST = state_1.STATE.TEMPFRAME;\r\n            if (ST.ONLYGROUP(ST.Groups.MOVE)) {\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_MOVE_END);\r\n            }\r\n        },\r\n    },\r\n    resize: {\r\n        trigger: function (e) {\r\n        },\r\n        begin: function (e) {\r\n        },\r\n        ing: function (e) {\r\n        },\r\n        end: function (e) {\r\n        }\r\n    },\r\n    click: {\r\n        buttonGroup: function (e) {\r\n            if (!e.target) {\r\n                return;\r\n            }\r\n            if (funcTools_1.TargetIs.tempframeHeaderButtons(e.target) && state_1.STATE.TEMPFRAME.NO()) {\r\n                if ((0, funcTools_1.HasClass)(e.target, \"icon-close\")) {\r\n                    (0, funcTools_1.Dispatch)(E.EVENT_FRAME_HIDE);\r\n                }\r\n                else if ((0, funcTools_1.HasClass)(e.target, \"icon-foldbody\")) {\r\n                    (0, funcTools_1.Dispatch)(E.EVENT_FRAME_TOGGLE_FOLDBODY);\r\n                }\r\n                else if ((0, funcTools_1.HasClass)(e.target, \"icon-minimize\")) {\r\n                    (0, funcTools_1.Dispatch)(E.EVENT_FRAME_TOGGLE_MINIMIZE);\r\n                }\r\n                else if ((0, funcTools_1.HasClass)(e.target, \"icon-toolbox\")) {\r\n                    (0, funcTools_1.Dispatch)(E.EVENT_FRAME_TOGGLE_TOOLS);\r\n                }\r\n                else if ((0, funcTools_1.HasClass)(e.target, \"icon-fixed\")) {\r\n                    (0, funcTools_1.Dispatch)(E.EVENT_FRAME_TOGGLE_PINE);\r\n                }\r\n                else if ((0, funcTools_1.HasClass)(e.target, \"icon-save\")) {\r\n                    (0, funcTools_1.Dispatch)(E.EVENT_FRAME_SAVE_AS);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    dbclick: {\r\n        setTitle: function (e) {\r\n            if (funcTools_1.TargetIs.tempframeHeaderTitle(e.target)) {\r\n                console.log(\"title\");\r\n            }\r\n            else if (funcTools_1.TargetIs.tempFrameHeaderMoveBar(e.target)) {\r\n            }\r\n        }\r\n    }\r\n};\r\nexports.ActionSet = {\r\n    AtBody: {\r\n        keydown: function (e) {\r\n            frameDrawing.triggered(e);\r\n            frameDrawing.stop_failed(e);\r\n        },\r\n        mousedown: function (e) {\r\n            var ST = state_1.STATE.TEMPFRAME;\r\n            if (e.button == 0)\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_MOUSE_LBTN_PRESSED);\r\n            frameDrawing.start(e);\r\n            if (ST.HAS(ST.SHOW)) {\r\n                tempframe.resize.begin(e);\r\n            }\r\n        },\r\n        mousemove: function (e) {\r\n            frameDrawing.moving(e);\r\n            var ST = state_1.STATE.TEMPFRAME;\r\n            if (ST.HAS(ST.SHOW)) {\r\n                tempframe.move.ing(e);\r\n                tempframe.resize.trigger(e);\r\n                tempframe.resize.ing(e);\r\n            }\r\n        },\r\n        mouseup: function (e) {\r\n            (0, funcTools_1.Dispatch)(events_1.EVENT_MOUSE_LBTN_RELEASED);\r\n            frameDrawing.stop(e);\r\n            var ST = state_1.STATE.TEMPFRAME;\r\n            if (ST.HAS(ST.SHOW)) {\r\n                tempframe.resize.end(e);\r\n                tempframe.move.end(e);\r\n            }\r\n        },\r\n    },\r\n    AtShadowRoot: {\r\n        click: function (e) {\r\n            tempframe.click.buttonGroup(e);\r\n        },\r\n        mousedown: function (e) {\r\n            if (e.button == 0)\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_MOUSE_LBTN_PRESSED);\r\n            tempframe.move.begin(e);\r\n        },\r\n        dblclick: function (e) {\r\n            tempframe.dbclick.setTitle(e);\r\n        }\r\n    }\r\n};\r\nvar InstallAction = function (act) {\r\n    var place = {\r\n        AtBody: window,\r\n        AtShadowRoot: core_1.CORE.ShadowRoot\r\n    };\r\n    Object.keys(act).forEach(function (at) {\r\n        (0, funcTools_1.InstallEvent)(act[at], place[at]);\r\n    });\r\n};\r\nexports.InstallAction = InstallAction;\r\n//# sourceMappingURL=actionDispatcher.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TempFrameComponent = void 0;\r\nvar classes_1 = require(\"./utils/classes\");\r\nvar constants_1 = require(\"./utils/constants\");\r\nvar funcTools_1 = require(\"./utils/funcTools\");\r\nvar Component = /** @class */ (function () {\r\n    function Component() {\r\n        this.component = document.createElement(\"div\");\r\n    }\r\n    return Component;\r\n}());\r\nvar TempFrameComponent = /** @class */ (function (_super) {\r\n    __extends(TempFrameComponent, _super);\r\n    function TempFrameComponent() {\r\n        var _this = _super.call(this) || this;\r\n        _this._container = new classes_1.TempFrameContainer();\r\n        _this.UpdateGeometry = function (elRect) {\r\n            var r2 = {};\r\n            if (_this.IsAbsolutePosition) {\r\n                elRect.left += window.scrollX;\r\n                elRect.top += window.scrollY;\r\n            }\r\n            console.log(\"UpdateGeometry elRect=\", elRect);\r\n            for (var key in elRect) {\r\n                if (elRect[key])\r\n                    r2[key] = \"\".concat(elRect[key], \"px\");\r\n            }\r\n            (0, funcTools_1.setElStyle)(_this.component, r2);\r\n        };\r\n        _this.component.appendChild(_this.container);\r\n        _this.component.classList.add(constants_1.CSSClass.TempFrameComponent, constants_1.CSSClass.transitionAll);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TempFrameComponent.prototype, \"container\", {\r\n        get: function () {\r\n            return this._container.element;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TempFrameComponent.prototype, \"IsAbsolutePosition\", {\r\n        get: function () {\r\n            var p = window.getComputedStyle(this.component).position;\r\n            return p ? p == \"absolute\" : true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TempFrameComponent.prototype.WrapFrameRect = function (elRect) {\r\n        var headerHeight = this._container.headerHeight > 0 ? this._container.headerHeight : constants_1.TempFrameHeaderHeight;\r\n        var footerHeight = this._container.footerHeight > 0 ? this._container.footerHeight : constants_1.TempFrameFooterHeight;\r\n        var rect = {\r\n            left: elRect.left,\r\n            top: elRect.top - headerHeight,\r\n            width: elRect.width,\r\n            height: elRect.height + headerHeight + footerHeight\r\n        };\r\n        return rect;\r\n    };\r\n    TempFrameComponent.prototype.AtEdge = function (p, edgeSense) {\r\n        if (edgeSense === void 0) { edgeSense = 5; }\r\n        var c1 = [p.x, p.x, p.y, p.y];\r\n        var rect = this.component.getBoundingClientRect();\r\n        var r1 = [rect.left, rect.right, rect.top, rect.bottom];\r\n        var dirChar = [\"L\", \"R\", \"T\", \"B\"];\r\n        var events = [0, 1, 2, 3].map(function (idx) {\r\n            var _a = [(Math.floor(idx / 2) + 1) * 2 % 4, (Math.floor(idx / 2) + 1) * 2 % 4 + 1], idx2 = _a[0], idx3 = _a[1];\r\n            return [Math.abs(c1[idx] - r1[idx]) <= edgeSense\r\n                    && r1[idx2] - edgeSense <= c1[idx2] && c1[idx2] <= r1[idx3] + edgeSense,\r\n                dirChar[idx]];\r\n        });\r\n        return events.filter(function (value, index) {\r\n            return value[0];\r\n        }).reduce(function (sum, next) { return sum + next[1]; }, \"\");\r\n    };\r\n    return TempFrameComponent;\r\n}(Component));\r\nexports.TempFrameComponent = TempFrameComponent;\r\n//# sourceMappingURL=components.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CORE = exports._CORE = void 0;\r\nvar classes_1 = require(\"./utils/classes\");\r\nvar services_1 = require(\"./services\");\r\nvar state_1 = require(\"./state\");\r\nvar actionDispatcher_1 = require(\"./actionDispatcher\");\r\nvar styles_sheet_1 = require(\"./utils/styles_sheet\");\r\nvar connector_1 = require(\"./utils/connector\");\r\nvar constants_1 = require(\"./utils/constants\");\r\n/**\r\n * core把所有东西集中在一起\r\n * events.ts文件产生事件名称,\r\n * state.ts 文件产生状态名称,\r\n * actionDispatcher 分发行为事件, 是一切行为的入口,\r\n * XXXservice管理对应的事件响应, 需要在core中用InstallEvents完成service的事件注册.\r\n * XXXservice的事件集中写在connector里面, 方便管理\r\n * XXXcomponent是service对应操作的div集体. 只写一些简单的函数, 不写状态判断之类或事件\r\n * 以后应该会尝试合并事件与状态, 做到某些事件发射就自动响应一些状态.\r\n * */\r\nvar _CORE = /** @class */ (function (_super) {\r\n    __extends(_CORE, _super);\r\n    function _CORE() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.StateService = new services_1.StateService();\r\n        _this.STATE = state_1.STATE;\r\n        _this.ShadowRootService = new services_1.ShadowRootService();\r\n        _this.ShadowRoot = _this.ShadowRootService.root;\r\n        _this.TempFrameDrawingService = new services_1.TempFrameDrawingService();\r\n        _this.TempFrameService = new services_1.TempFrameService();\r\n        _this.TempFrameComponent = null;\r\n        _this.CardFrameService = new services_1.CardFrameService();\r\n        _this.CurrentCardFrame = null;\r\n        _this.MaskService = new services_1.MaskService();\r\n        _this.ServiceList = [_this.MaskService, _this.StateService,\r\n            _this.TempFrameDrawingService,\r\n            _this.TempFrameService,\r\n            _this.ShadowRootService];\r\n        _this.InstallDisptach = function () {\r\n            (0, actionDispatcher_1.InstallAction)(actionDispatcher_1.ActionSet);\r\n        };\r\n        _this.InstallStyles = function () {\r\n            var styleString = \"\";\r\n            for (var classkey in styles_sheet_1.styles_sheet.default) {\r\n                styleString += \"\\n.\".concat(classkey, \"{\").concat(styles_sheet_1.styles_sheet.default[classkey], \"}\");\r\n            }\r\n            for (var otherKey in styles_sheet_1.styles_sheet.other) {\r\n                styleString += \"\\n\".concat(otherKey, \"{\").concat(styles_sheet_1.styles_sheet.other[otherKey], \"}\");\r\n            }\r\n            for (var buttonKey in styles_sheet_1.styles_sheet.buttonIcons) {\r\n                styleString += \"\\n.icon-\".concat(buttonKey, \"{\").concat(styles_sheet_1.styles_sheet.buttonIcons[buttonKey], \"}\");\r\n            }\r\n            var styleEl = document.createElement(\"style\");\r\n            styleEl.innerHTML = styleString;\r\n            _this.ShadowRoot.appendChild(styleEl);\r\n            var styleEl2 = document.createElement(\"style\");\r\n            styleEl2.innerHTML = \".\".concat(constants_1.CSSClass.ShadowRootHost, \"\\n        {\").concat(styles_sheet_1.styles_sheet.default[constants_1.CSSClass.ShadowRootHost], \"}\");\r\n            document.head.appendChild(styleEl2);\r\n        };\r\n        _this.InstallEvents = function () {\r\n            (0, connector_1.SetupCoreEventEmitter)();\r\n            (0, connector_1.InstallCoreEventEmitter)(_this.ServiceList);\r\n        };\r\n        return _this;\r\n    }\r\n    return _CORE;\r\n}((0, classes_1.Singleton)()));\r\nexports._CORE = _CORE;\r\nexports.CORE = _CORE.Instance;\r\n//# sourceMappingURL=core.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StateService = exports.ShadowRootService = exports.CardLibService = exports.CardFrameService = exports.TempFrameService = exports.InfomationService = exports.TempFrameDrawingService = exports.MaskService = void 0;\r\nvar funcTools_1 = require(\"./utils/funcTools\");\r\nvar constants_1 = require(\"./utils/constants\");\r\nvar core_1 = require(\"./core\");\r\nvar state_1 = require(\"./state\");\r\nvar E = require(\"./utils/events\");\r\nvar components_1 = require(\"./components\");\r\nvar events_1 = require(\"./utils/events\");\r\nvar BaseTempFrame = /** @class */ (function () {\r\n    function BaseTempFrame() {\r\n        this.zindex = 99999;\r\n    }\r\n    return BaseTempFrame;\r\n}());\r\nvar MaskService = /** @class */ (function () {\r\n    function MaskService() {\r\n        var _this = this;\r\n        this.blockActionMask = document.createElement(\"div\");\r\n        this.registEvents = {};\r\n        this.UpdateMaskGeometry = function () {\r\n            _this.blockActionMask.style.height = \"\".concat(document.scrollingElement.scrollHeight, \"px\");\r\n        };\r\n        this.InitMask = function () {\r\n            _this.blockActionMask.style.cssText = \"\";\r\n            _this.UpdateMaskGeometry();\r\n        };\r\n        this.HideMask = function (e) {\r\n            if (core_1.CORE.ShadowRoot.contains(_this.blockActionMask)) {\r\n                core_1.CORE.ShadowRoot.removeChild(_this.blockActionMask);\r\n            }\r\n        };\r\n        this.ShowMask = function (e) {\r\n            var styles = e.detail;\r\n            _this.InitMask();\r\n            if (!core_1.CORE.ShadowRoot.contains(_this.blockActionMask)) {\r\n                for (var name_1 in styles) {\r\n                    _this.blockActionMask.style[name_1] = styles[name_1];\r\n                }\r\n                core_1.CORE.ShadowRoot.appendChild(_this.blockActionMask);\r\n            }\r\n        };\r\n        this.stop = function () {\r\n            (0, funcTools_1.UninstallEvent)(_this.registEvents);\r\n            core_1.CORE.MaskService = null;\r\n        };\r\n        this.blockActionMask.classList.add(constants_1.CSSClass.blockActionMask);\r\n        this.InitMask();\r\n    }\r\n    return MaskService;\r\n}());\r\nexports.MaskService = MaskService;\r\nvar TempFrameDrawingService = /** @class */ (function (_super) {\r\n    __extends(TempFrameDrawingService, _super);\r\n    function TempFrameDrawingService() {\r\n        var _this = _super.call(this) || this;\r\n        _this.selectionFrame = document.createElement(\"div\");\r\n        _this.divForBlockMouse = document.createElement(\"div\");\r\n        _this.mousedownPosition = [0, 0]; //clientX,clientY\r\n        _this.registEvents = {};\r\n        _this.OnDrawingFrameFailed = function () {\r\n            _this.HideElement();\r\n            (0, funcTools_1.Dispatch)(E.EVENT_NO_MASK);\r\n        };\r\n        _this.OnDrawingFrameTriggered = function () {\r\n            (0, funcTools_1.Dispatch)(E.EVENT_NEED_MASK, { zindex: _this.zindex - 3, cursor: \"crosshair\" });\r\n            (0, funcTools_1.Dispatch)(E.EVENT_INFOMATION, { text: \"开始截屏\" });\r\n            (0, funcTools_1.Dispatch)(E.EVENT_FRAME_HIDE);\r\n            _this.HideElement();\r\n        };\r\n        _this.OnDrawingFrameStarted = function (e) {\r\n            if (state_1.STATE.FRAME_DRAWING.HAS(state_1.STATE.FRAME_DRAWING.TRIGGERED)) {\r\n                _this.ShowElement();\r\n                _this.mousedownPosition = [e.detail.clientX, e.detail.clientY];\r\n                _this.UpdateBlockMouseDivPosition(e.detail);\r\n                _this.UpdateSelectionDivSize(e.detail);\r\n            }\r\n        };\r\n        _this.OnDrawingFrameMoving = function (e) {\r\n            if (state_1.STATE.FRAME_DRAWING.HAS(state_1.STATE.FRAME_DRAWING.STARTED)) {\r\n                _this.UpdateBlockMouseDivPosition(e.detail);\r\n                _this.UpdateSelectionDivSize(e.detail);\r\n            }\r\n        };\r\n        _this.OnDrawingFrameStopped = function (e) {\r\n            var er = _this.selectionFrame.getBoundingClientRect();\r\n            (0, funcTools_1.Dispatch)(E.EVENT_FRAME_DRAWING_SUCCESS, { width: er.width, height: er.height, top: er.top, left: er.left });\r\n            (0, funcTools_1.Dispatch)(E.EVENT_NO_MASK);\r\n            _this.HideElement();\r\n        };\r\n        _this.HideElement = function () {\r\n            (0, funcTools_1.HideElementInShadowRoot)(_this.selectionFrame);\r\n            (0, funcTools_1.HideElementInShadowRoot)(_this.divForBlockMouse);\r\n        };\r\n        _this.ShowElement = function () {\r\n            (0, funcTools_1.ShowElementInShadowRoot)(_this.selectionFrame);\r\n            (0, funcTools_1.ShowElementInShadowRoot)(_this.divForBlockMouse);\r\n        };\r\n        _this.UpdateBlockMouseDivPosition = function (e) {\r\n            var _a = [window.scrollX, window.scrollY], sX = _a[0], sY = _a[1];\r\n            _this.divForBlockMouse.style.left = (e.clientX + sX).toString() + \"px\";\r\n            _this.divForBlockMouse.style.top = (e.clientY + sY).toString() + \"px\";\r\n        };\r\n        _this.UpdateSelectionDivSize = function (e) {\r\n            console.assert(e.constructor == MouseEvent, \"UpdateSelectionDivSize=(e:MouseEvent)=> 收到一个错误参数\");\r\n            var _a = _this.mousedownPosition, x1 = _a[0], y1 = _a[1];\r\n            var _b = [e.clientX, e.clientY], x2 = _b[0], y2 = _b[1];\r\n            var _c = [window.scrollX, window.scrollY], sX = _c[0], sY = _c[1];\r\n            var style = _this.selectionFrame.style;\r\n            style.left = \"\".concat((Math.min(x1, x2) + sX), \"px\");\r\n            style.top = \"\".concat((Math.min(y1, y2) + sY), \"px\");\r\n            style.width = \"\".concat(Math.abs(x2 - x1), \"px\");\r\n            style.height = \"\".concat(Math.abs(y2 - y1), \"px\");\r\n            // console.log(x1,x2,sX)\r\n        };\r\n        _this.stop = function () {\r\n            (0, funcTools_1.UninstallEvent)(_this.registEvents);\r\n            core_1.CORE.TempFrameDrawingService = null;\r\n        };\r\n        _this.divForBlockMouse.classList.add(constants_1.CSSClass.divForBlockMouse);\r\n        _this.selectionFrame.classList.add(constants_1.CSSClass.selectionFrameDiv);\r\n        console.log(\"TempFrameDrawingService 初始化完成\");\r\n        return _this;\r\n    }\r\n    return TempFrameDrawingService;\r\n}(BaseTempFrame));\r\nexports.TempFrameDrawingService = TempFrameDrawingService;\r\nvar InfomationService = /** @class */ (function () {\r\n    function InfomationService() {\r\n    }\r\n    return InfomationService;\r\n}());\r\nexports.InfomationService = InfomationService;\r\nvar TempFrameService = /** @class */ (function () {\r\n    function TempFrameService() {\r\n        var _this = this;\r\n        this.cursorAt = {\r\n            LT: \"nw-resize\",\r\n            LB: \"sw-resize\",\r\n            RT: \"ne-resize\",\r\n            RB: \"se-resize\",\r\n            L: \"w-resize\",\r\n            R: 'e-resize',\r\n            T: \"n-resize\",\r\n            B: \"s-resize\"\r\n        };\r\n        this.resizeBegin = {\r\n            cursor: { x: null, y: null },\r\n            div: { left: null, top: null, width: null, height: null },\r\n            direction: null\r\n        };\r\n        this.registEvents = {};\r\n        this.state = {\r\n            moving: {\r\n                startmove: { x: null, y: null, left: null, top: null }\r\n            }\r\n        };\r\n        this._TempFrame = null;\r\n        this.OnDrawingSuccess = function (e) {\r\n            console.log(e.detail);\r\n            _this._TempFrame = new components_1.TempFrameComponent();\r\n            _this._TempFrame.UpdateGeometry(_this._TempFrame.WrapFrameRect(e.detail));\r\n            _this.ShowElement();\r\n            (0, funcTools_1.Dispatch)(E.EVENT_FRAME_SHOW);\r\n        };\r\n        this.OnMoveBegin = function (e) {\r\n            _this.TempFrame.classList.remove(constants_1.CSSClass.transitionAll);\r\n            _this.state.moving.startmove = {\r\n                x: e.detail.clientX, y: e.detail.clientY,\r\n                left: _this.TempFrame.getBoundingClientRect().left,\r\n                top: _this.TempFrame.getBoundingClientRect().top\r\n            };\r\n            console.log(\"OnMoveBegin=\", _this.state.moving.startmove);\r\n        };\r\n        this.OnMove = function (e) {\r\n            // this.TempFrame.classList.remove(CSSClass.transitionAll)\r\n            var start = _this.state.moving.startmove;\r\n            var rect = {\r\n                left: start.left + (e.detail.clientX - start.x),\r\n                top: start.top + (e.detail.clientY - start.y),\r\n                width: null,\r\n                height: null\r\n            };\r\n            console.log(\"onmove  \", rect);\r\n            _this._TempFrame.UpdateGeometry(rect);\r\n        };\r\n        this.OnMoveEnd = function () {\r\n            _this.TempFrame.classList.add(constants_1.CSSClass.transitionAll);\r\n        };\r\n        this.OnMouseHover = function (e) {\r\n            var edge = _this._TempFrame.AtEdge({ x: e.detail.clientX, y: e.detail.clientY });\r\n            if (edge) {\r\n                document.body.style.cursor = _this.cursorAt[edge];\r\n                _this.TempFrame.style.cursor = _this.cursorAt[edge];\r\n                _this.resizeBegin = {\r\n                    cursor: { x: e.detail.clientX, y: e.detail.clientY },\r\n                    div: {\r\n                        left: _this.TempFrame.getBoundingClientRect().left,\r\n                        top: _this.TempFrame.getBoundingClientRect().top,\r\n                        width: _this.TempFrame.getBoundingClientRect().width,\r\n                        height: _this.TempFrame.getBoundingClientRect().height,\r\n                    },\r\n                    direction: edge\r\n                };\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_RESIZE_TRIGGERED);\r\n            }\r\n            else {\r\n                (0, funcTools_1.Dispatch)(events_1.EVENT_FRAME_RESIZE_END);\r\n                _this.InitStyle();\r\n            }\r\n        };\r\n        this.OnClosed = function () {\r\n        };\r\n        this.OnResizing = function (e) {\r\n            var _a = [e.detail.clientX, e.detail.clientY], ex = _a[0], ey = _a[1];\r\n            var _b = [_this.resizeBegin.cursor, _this.resizeBegin.div, _this.resizeBegin.direction], p = _b[0], r = _b[1], d = _b[2];\r\n            var rect = { left: null, top: null, width: null, height: null };\r\n            rect.height = d.indexOf(\"B\") >= 0 ? (r.height + (ey - p.y)) : r.height;\r\n            rect.width = d.indexOf(\"R\") >= 0 ? (r.width + (ex - p.x)) : r.width;\r\n            rect.height = d.indexOf(\"T\") >= 0 ? (r.height - (ey - p.y)) : rect.height;\r\n            rect.top = d.indexOf(\"T\") >= 0 ? ((ey - p.y) + r.top) : r.top;\r\n            rect.width = d.indexOf(\"L\") >= 0 ? (r.width - (ex - p.x)) : rect.width;\r\n            rect.left = d.indexOf(\"L\") >= 0 ? ((ex - p.x) + r.left) : r.left;\r\n            _this._TempFrame.UpdateGeometry(rect);\r\n        };\r\n        this.OnResizeEnd = function () {\r\n        };\r\n        this.OnMinimize = function () {\r\n        };\r\n        this.OnFoldBody = function (e) {\r\n            if (state_1.STATE.TEMPFRAME.HAS(state_1.STATE.TEMPFRAME.BTN_FOLDBODY)) {\r\n                _this._TempFrame.UpdateGeometry({ left: null, top: null, width: null, height: constants_1.TempFrameHeaderHeight });\r\n            }\r\n        };\r\n        this.OnOpenToolBox = function () {\r\n        };\r\n        this.OnPine = function () {\r\n        };\r\n        this.OnSave = function () {\r\n        };\r\n        this.OnHide = function () {\r\n            _this.HideElement();\r\n        };\r\n        this.HideElement = function () {\r\n            (0, funcTools_1.HideElementInShadowRoot)(_this.TempFrame);\r\n        };\r\n        this.ShowElement = function () {\r\n            (0, funcTools_1.ShowElementInShadowRoot)(_this.TempFrame);\r\n        };\r\n        this.InitStyle = function () {\r\n            _this.TempFrame.style.cursor = \"\";\r\n            document.body.style.cursor = \"\";\r\n        };\r\n    }\r\n    Object.defineProperty(TempFrameService.prototype, \"TempFrame\", {\r\n        get: function () {\r\n            var _a, _b;\r\n            return (_b = (_a = this._TempFrame) === null || _a === void 0 ? void 0 : _a.component) !== null && _b !== void 0 ? _b : null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return TempFrameService;\r\n}());\r\nexports.TempFrameService = TempFrameService;\r\nvar CardFrameService = /** @class */ (function () {\r\n    function CardFrameService() {\r\n    }\r\n    return CardFrameService;\r\n}());\r\nexports.CardFrameService = CardFrameService;\r\nvar CardLibService = /** @class */ (function () {\r\n    function CardLibService() {\r\n    }\r\n    return CardLibService;\r\n}());\r\nexports.CardLibService = CardLibService;\r\nvar ShadowRootService = /** @class */ (function (_super) {\r\n    __extends(ShadowRootService, _super);\r\n    function ShadowRootService() {\r\n        var _this = _super.call(this) || this;\r\n        _this.registEvents = {};\r\n        _this.host = document.createElement(\"div\");\r\n        _this.root = document.createElement(\"div\");\r\n        _this.SetupHost = function () {\r\n            _this.host.classList.add(constants_1.CSSClass.ShadowRootHost); //root 全屏, 不接受点击操作\r\n            document.body.appendChild(_this.host);\r\n            _this.dom = _this.host.attachShadow({ mode: \"open\" });\r\n            _this.dom.appendChild(_this.root);\r\n            _this.root.classList.add(constants_1.CSSClass.ShadowRootContainer);\r\n        };\r\n        _this.stop = function () {\r\n        };\r\n        _this.UpdateHostGeometry = function () {\r\n            _this.host.style.height = \"\".concat(document.scrollingElement.scrollHeight, \"px\");\r\n        };\r\n        _this.EnableHostPointerEvent = function () {\r\n            _this.host.style.pointerEvents = \"all\";\r\n        };\r\n        _this.DisableHostPointerEvent = function () {\r\n            _this.host.style.pointerEvents = \"none\";\r\n        };\r\n        _this.EnableRootContainerFullScreen = function () {\r\n            _this.root.classList.add(constants_1.CSSClass.fullScreen);\r\n            (0, funcTools_1.consolelog)(\"EnableRootContainerFullScreen\");\r\n        };\r\n        _this.DisableRootContainerFullScreen = function () {\r\n            _this.root.classList.remove(constants_1.CSSClass.fullScreen);\r\n            (0, funcTools_1.consolelog)(\"DisableRootContainerFullScreen\");\r\n        };\r\n        _this.SetupHost();\r\n        return _this;\r\n    }\r\n    return ShadowRootService;\r\n}(BaseTempFrame));\r\nexports.ShadowRootService = ShadowRootService;\r\nvar StateService = /** @class */ (function () {\r\n    function StateService() {\r\n        this.registEvents = {};\r\n    }\r\n    return StateService;\r\n}());\r\nexports.StateService = StateService;\r\n//# sourceMappingURL=services.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.STATE = void 0;\r\nvar classes_1 = require(\"./utils/classes\");\r\n/**\r\n * {STATE}是状态, 用集合存储各类flag, 从而显示出不同的状态.\r\n * {Group}是flag的分类, flag一般写成 xxx_xxx_xxx的形式, `_` 分割的首个xxx就是flag的分类\r\n *\r\n * */\r\nvar StateItem = /** @class */ (function () {\r\n    function StateItem() {\r\n        var _this = this;\r\n        this.STATE = new Set();\r\n        this.EMPTY = 0;\r\n        //满足\r\n        this.HAS = function (B) {\r\n            return _this.STATE.has(B);\r\n        };\r\n        //全部不满手\r\n        this.NO = function () {\r\n            var B = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                B[_i] = arguments[_i];\r\n            }\r\n            return !_this.SOME.apply(_this, B);\r\n        };\r\n        //部分条件满足\r\n        this.SOME = function () {\r\n            var B = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                B[_i] = arguments[_i];\r\n            }\r\n            return B.some(function (value) { return _this.HAS(value); });\r\n        };\r\n        //全部条件满足\r\n        this.ALL = function () {\r\n            var B = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                B[_i] = arguments[_i];\r\n            }\r\n            return B.reduce(function (sum, value) { return sum && _this.HAS(value); }, true);\r\n        };\r\n        //当且仅当\r\n        this.IFF = function () {\r\n            var B = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                B[_i] = arguments[_i];\r\n            }\r\n            return _this.toArray().sort().toString() === B.sort().toString();\r\n        };\r\n        this.ADD = function () {\r\n            var B = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                B[_i] = arguments[_i];\r\n            }\r\n            B.forEach(function (value) {\r\n                var group = value.split(\"_\")[0];\r\n                _this.RemoveGroup(group);\r\n                _this.STATE.add(value);\r\n            });\r\n            console.log(_this.constructor.name + \" \" +\r\n                B.toString() + \">>>added>>>\" + _this.toString());\r\n        };\r\n        this.DEL = function () {\r\n            var B = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                B[_i] = arguments[_i];\r\n            }\r\n            B.forEach(function (value) { return _this.STATE.delete(value); });\r\n            console.log(_this.constructor.name + \" \" + B.toString() + \">>>deleted>>>\" + _this.toString());\r\n        };\r\n        this.CLEAR = function () {\r\n            _this.DEL.apply(_this, _this.toArray());\r\n        };\r\n        this.SETONLY = function () {\r\n            var B = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                B[_i] = arguments[_i];\r\n            }\r\n            _this.CLEAR();\r\n            _this.ADD.apply(_this, B);\r\n        };\r\n        this.toArray = function () {\r\n            return Array.from(_this.STATE.values());\r\n        };\r\n        this.IsBasicState = function () {\r\n            return _this.IFF.apply(_this, _this.BasicFlag);\r\n        };\r\n        this.SetBasicState = function () {\r\n            _this.SETONLY.apply(_this, _this.BasicFlag);\r\n        };\r\n        this.InitWith = function () {\r\n            var B = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                B[_i] = arguments[_i];\r\n            }\r\n            _this.SetBasicState();\r\n            _this.ADD.apply(_this, B);\r\n        };\r\n        /**\r\n         * NOGROUP 即状态中 没有 B类flag\r\n         * */\r\n        this.NOGROUP = function (B) {\r\n            return !_this.toArray().some(function (s) {\r\n                s.startsWith(B);\r\n            });\r\n        };\r\n        /**\r\n         *     ONLYGROUP的意思是 在GroupNames中 B类flag是当前状态唯一存在的\r\n         * */\r\n        this.ONLYGROUP = function (B) {\r\n            return Object.keys(_this.Groups).reduce(function (result, next) {\r\n                if (B === next)\r\n                    return result && _this.HASGROUP(B);\r\n                return result && !_this.HASGROUP(next);\r\n            }, true);\r\n        };\r\n        /**\r\n         * HASGROUP 就是检测当前状态中是否存在B类flag\r\n         * */\r\n        this.HASGROUP = function (B) {\r\n            return _this.toArray().some(function (s) {\r\n                return s.startsWith(B);\r\n            });\r\n        };\r\n        /**\r\n         * 获取状态中, 与groupname 冲突的集\r\n         * */\r\n        this.getConlictSet = function (groupname) {\r\n            return _this.ConflictFlag.reduce(function (result, next) {\r\n                return next.has(groupname) ? next : result;\r\n            }, new Set());\r\n        };\r\n        /**\r\n         * 移除状态中所有 groupname类的flag\r\n         * */\r\n        this.RemoveGroup = function (groupname, includeSelf) {\r\n            if (includeSelf === void 0) { includeSelf = false; }\r\n            _this.getConlictSet(groupname)\r\n                .forEach(function (g_name) {\r\n                _this.STATE.forEach(function (s_flag) {\r\n                    return s_flag.startsWith(g_name) && (includeSelf ? groupname == g_name : !(groupname == g_name)) ?\r\n                        _this.DEL(s_flag)\r\n                        : null;\r\n                });\r\n            });\r\n        };\r\n    }\r\n    StateItem.prototype.toString = function () {\r\n        return this.toArray().toString();\r\n    };\r\n    return StateItem;\r\n}());\r\nvar FRAME_DRAWING = /** @class */ (function (_super) {\r\n    __extends(FRAME_DRAWING, _super);\r\n    function FRAME_DRAWING() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.TRIGGERED = \"TRIGGERD\";\r\n        _this.STARTED = \"STARTED\";\r\n        _this.MOVING = \"MOVING\";\r\n        _this.Groups = {};\r\n        _this.BasicFlag = [];\r\n        _this.ConflictFlag = [];\r\n        return _this;\r\n    }\r\n    return FRAME_DRAWING;\r\n}(StateItem));\r\nvar TEMPFRAME = /** @class */ (function (_super) {\r\n    __extends(TEMPFRAME, _super);\r\n    function TEMPFRAME() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.SHOW = \"SHOW\";\r\n        _this.MOVE_BEGIN = \"MOVE_BEGIN\";\r\n        _this.MOVE_DOING = \"MOVE_DOING\";\r\n        _this.RESIZE_TRIGGERED = \"RESIZE_TRIGGERED\";\r\n        _this.RESIZE_BEGIN = \"RESIZE_BEGIN\";\r\n        _this.RESIZE_DOING = \"RESIZE_DOING\";\r\n        _this.BTN_FOLDBODY = \"BTN_FOLDBODY\";\r\n        _this.BTN_MINIMIZE = \"BTN_MINIMIZE\";\r\n        _this.BTN_TOOLS = \"BTN_TOOLS\";\r\n        _this.BTN_PINE = \"BTN_PINE\";\r\n        _this.ClearResize = function () {\r\n            _this.DEL(_this.RESIZE_TRIGGERED, _this.RESIZE_DOING, _this.RESIZE_BEGIN);\r\n        };\r\n        _this.ClearMove = function () {\r\n            _this.DEL(_this.MOVE_DOING);\r\n        };\r\n        _this.AT_BUTTON = \"AT_BUTTON\";\r\n        _this.BasicFlag = [_this.SHOW];\r\n        _this.Groups = {\r\n            RESIZE: \"RESIZE\", MOVE: \"MOVE\"\r\n        };\r\n        _this.ConflictFlag = [new Set([_this.Groups.RESIZE, _this.Groups.MOVE])];\r\n        return _this;\r\n    }\r\n    return TEMPFRAME;\r\n}(StateItem));\r\nvar MOUSE = /** @class */ (function (_super) {\r\n    __extends(MOUSE, _super);\r\n    function MOUSE() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.BasicFlag = [];\r\n        _this.ConflictFlag = [];\r\n        _this.Groups = {};\r\n        _this.LBTN_HOLDING = \"LBTN_HOLDING\";\r\n        _this.LBTN_RELEASED = \"LBTN_RELEASED\";\r\n        _this.RBTN_HOLDING = \"RBTN_HOLDING\";\r\n        _this.RBTN_RELEASED = \"RBTN_RELEASED\";\r\n        return _this;\r\n    }\r\n    return MOUSE;\r\n}(StateItem));\r\nvar _STATE = /** @class */ (function (_super) {\r\n    __extends(_STATE, _super);\r\n    function _STATE() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /*\r\n        * 单例模式\r\n        * */\r\n        _this.MOUSE = new MOUSE();\r\n        _this.FRAME_DRAWING = new FRAME_DRAWING();\r\n        _this.TEMPFRAME = new TEMPFRAME();\r\n        _this.FRAME_DRAWING_TRIGGERED = false;\r\n        _this.FRAME_DRAWING_SATRTED = false;\r\n        _this.FRAME_DRAWING_MOVING = false;\r\n        _this.FRAME_DRAWING_STOPPED = true;\r\n        _this.TEMPFRAME_SHOW = false;\r\n        _this.TEMPFRAME_CAN_MOVE = false;\r\n        _this.TEMPFRAME_CAN_RESIZE = false;\r\n        return _this;\r\n    }\r\n    return _STATE;\r\n}((0, classes_1.Singleton)()));\r\nexports.STATE = _STATE.Instance;\r\n//# sourceMappingURL=state.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TempFrameContainer = exports.Singleton = void 0;\r\nvar constants_1 = require(\"./constants\");\r\nvar funcTools_1 = require(\"./funcTools\");\r\nfunction Singleton() {\r\n    var Singleton = /** @class */ (function () {\r\n        function Singleton() {\r\n        }\r\n        Object.defineProperty(Singleton, \"Instance\", {\r\n            get: function () {\r\n                if (Singleton._Instance == null) {\r\n                    Singleton._Instance = new this();\r\n                }\r\n                return Singleton._Instance;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Singleton._Instance = null;\r\n        return Singleton;\r\n    }());\r\n    return Singleton;\r\n}\r\nexports.Singleton = Singleton;\r\nvar BaseTempFrame = /** @class */ (function () {\r\n    function BaseTempFrame() {\r\n        this.zindex = 99999;\r\n    }\r\n    return BaseTempFrame;\r\n}());\r\nvar TempFrameBaseElement = /** @class */ (function () {\r\n    function TempFrameBaseElement(classname) {\r\n        var _this = this;\r\n        this.height = 20;\r\n        this.backgroundColor = \"background-image:linear-gradient(#34adff,#0083e2)\";\r\n        this.element = document.createElement(\"div\");\r\n        this.SetCSSText = function (cssText) {\r\n            _this.element.style.cssText = cssText;\r\n        };\r\n        this.element.classList.add(classname);\r\n    }\r\n    return TempFrameBaseElement;\r\n}());\r\nvar TempFrameHeader = /** @class */ (function (_super) {\r\n    __extends(TempFrameHeader, _super);\r\n    function TempFrameHeader() {\r\n        var _this = _super.call(this, constants_1.CSSClass.tempFrameHeader) || this;\r\n        _this.height = 24;\r\n        _this.children = {\r\n            left: document.createElement(\"div\"),\r\n            center: document.createElement(\"div\"),\r\n            right: document.createElement(\"div\"),\r\n            moveBar: document.createElement(\"div\"),\r\n        };\r\n        // public buttonDir = [`${assetsDir}/save.png`]\r\n        _this.leftButtonGroup = [\"save\", \"fixed\", \"toolbox\"];\r\n        _this.rightButtonGroup = [\"foldbody\", \"minimize\", \"close\"];\r\n        _this.InitAll = function () {\r\n            _this.InitSelf();\r\n            _this.InitMoveBar();\r\n            _this.InitButton(_this.children.left, _this.leftButtonGroup);\r\n            _this.InitCenter();\r\n            _this.InitButton(_this.children.right, _this.rightButtonGroup);\r\n        };\r\n        _this.InitSelf = function () {\r\n            funcTools_1.AppendChildren.apply(void 0, __spreadArray([_this.element], Object.values(_this.children), false));\r\n        };\r\n        _this.InitCenter = function () {\r\n            _this.children.center.classList.add(constants_1.CSSClass.tempFrameHeaderButtons.title);\r\n        };\r\n        _this.InitButton = function (el, LR) {\r\n            LR.map(function (btnName) {\r\n                var div = document.createElement(\"div\");\r\n                div.classList.add(\"icon\" + \"-\" + btnName);\r\n                div.style.backgroundImage = chrome.runtime.getURL(\"assets/\".concat(btnName, \".png\"));\r\n                console.log(chrome.runtime.getURL(\"assets/\".concat(btnName, \".png\")));\r\n                div.classList.add(constants_1.CSSClass.button);\r\n                el.appendChild(div);\r\n            });\r\n            el.classList.add(constants_1.CSSClass.tempFrameHeaderSide);\r\n        };\r\n        _this.InitMoveBar = function () {\r\n            _this.children.moveBar.classList.add(constants_1.CSSClass.tempFrameHeaderMoveBar, constants_1.CSSClass.transitionAll);\r\n        };\r\n        _this.InitAll();\r\n        return _this;\r\n    }\r\n    return TempFrameHeader;\r\n}(TempFrameBaseElement));\r\nvar TempFrameFooter = /** @class */ (function (_super) {\r\n    __extends(TempFrameFooter, _super);\r\n    function TempFrameFooter() {\r\n        var _this = _super.call(this, constants_1.CSSClass.tempFrameFooter) || this;\r\n        // public buttonGroup=[\"\"]\r\n        _this.buttonGroup = {}; //key为buttonname,value是对应的HTMLElement\r\n        // this.element.style.backgroundColor = \"#34adff\"\r\n        var tffb = constants_1.CSSClass.tempFrameFooterButtons;\r\n        for (var name_1 in constants_1.CSSClass.tempFrameFooterButtons) {\r\n            var div = document.createElement(\"div\");\r\n            div.classList.add(\"icon-\" + name_1, constants_1.CSSClass.button);\r\n            _this.buttonGroup[name_1] = div;\r\n            _this.element.appendChild(div);\r\n        }\r\n        return _this;\r\n    }\r\n    return TempFrameFooter;\r\n}(TempFrameBaseElement));\r\nvar TempFrameBody = /** @class */ (function (_super) {\r\n    __extends(TempFrameBody, _super);\r\n    function TempFrameBody() {\r\n        var _this = _super.call(this, constants_1.CSSClass.tempFrameBody) || this;\r\n        _this.frame = document.createElement('div');\r\n        _this.element.appendChild(_this.frame);\r\n        _this.frame.classList.add(constants_1.CSSClass.tempFrame);\r\n        return _this;\r\n    }\r\n    return TempFrameBody;\r\n}(TempFrameBaseElement));\r\nvar TempFrameContainer = /** @class */ (function (_super) {\r\n    __extends(TempFrameContainer, _super);\r\n    function TempFrameContainer() {\r\n        var _this = _super.call(this, constants_1.CSSClass.tempFrameContainer) || this;\r\n        _this._header = new TempFrameHeader();\r\n        _this._body = new TempFrameBody();\r\n        _this._footer = new TempFrameFooter();\r\n        _this.UpdateFrame = function (value) {\r\n        };\r\n        ([_this.header, _this.body, _this.footer]).map(function (e) {\r\n            _this.element.appendChild(e);\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TempFrameContainer.prototype, \"header\", {\r\n        get: function () {\r\n            return this._header.element;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TempFrameContainer.prototype, \"body\", {\r\n        get: function () {\r\n            return this._body.element;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TempFrameContainer.prototype, \"footer\", {\r\n        get: function () {\r\n            return this._footer.element;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TempFrameContainer.prototype, \"headerHeight\", {\r\n        get: function () {\r\n            return this.header.getBoundingClientRect().height;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TempFrameContainer.prototype, \"footerHeight\", {\r\n        get: function () {\r\n            return this.footer.getBoundingClientRect().height;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return TempFrameContainer;\r\n}(TempFrameBaseElement));\r\nexports.TempFrameContainer = TempFrameContainer;\r\n//# sourceMappingURL=classes.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InstallCoreEventEmitter = exports.SetupCoreEventEmitter = exports.StopService = void 0;\r\nvar core_1 = require(\"../core\");\r\nvar state_1 = require(\"../state\");\r\nvar funcTools_1 = require(\"./funcTools\");\r\nvar StopService = function (srv) {\r\n    (0, funcTools_1.UninstallEvent)(srv.registEvents);\r\n};\r\nexports.StopService = StopService;\r\nvar SetupCoreEventEmitter = function () {\r\n    (0, funcTools_1.consolelog)(\"SetupCoreEventEmitter\");\r\n    var _a = [core_1.CORE.StateService, core_1.CORE.MaskService, core_1.CORE.ShadowRootService,\r\n        core_1.CORE.TempFrameDrawingService, core_1.CORE.TempFrameService], state = _a[0], mask = _a[1], root = _a[2], draw = _a[3], tempframe = _a[4];\r\n    state.registEvents = {\r\n        EVENT_FRAME_DRAWING_TRIGGERED: function () { state_1.STATE.FRAME_DRAWING.ADD(state_1.STATE.FRAME_DRAWING.TRIGGERED); },\r\n        EVENT_FRAME_DRAWING_SATRTED: function () { state_1.STATE.FRAME_DRAWING.ADD(state_1.STATE.FRAME_DRAWING.STARTED); },\r\n        EVENT_FRAME_DRAWING_MOVING: function () { state_1.STATE.FRAME_DRAWING.ADD(state_1.STATE.FRAME_DRAWING.MOVING); },\r\n        EVENT_FRAME_DRAWING_STOPPED: function () { state_1.STATE.FRAME_DRAWING.CLEAR(); },\r\n        EVENT_FRAME_SHOW: function () { state_1.STATE.TEMPFRAME.SetBasicState(); },\r\n        EVENT_FRAME_HIDE: function () { state_1.STATE.TEMPFRAME.CLEAR(); },\r\n        EVENT_FRAME_MOVE_BEGIN: function () { state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.MOVE_BEGIN); },\r\n        EVENT_FRAME_MOVING: function () { state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.MOVE_DOING); },\r\n        EVENT_FRAME_MOVE_END: function () { state_1.STATE.TEMPFRAME.RemoveGroup(\"MOVE\"); },\r\n        EVENT_FRAME_RESIZE_TRIGGERED: function () { state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.RESIZE_TRIGGERED); },\r\n        EVENT_FRAME_RESIZE_BEGIN: function () { state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.RESIZE_BEGIN); },\r\n        EVENT_FRAME_RESIZING: function () { state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.RESIZE_DOING); },\r\n        EVENT_FRAME_RESIZE_END: function () { state_1.STATE.TEMPFRAME.RemoveGroup(\"RESIZE\"); },\r\n        EVENT_FRAME_AT_BUTTON: function () { state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.AT_BUTTON); },\r\n        EVENT_FRAME_OUT_BUTTON: function () { state_1.STATE.TEMPFRAME.DEL(state_1.STATE.TEMPFRAME.AT_BUTTON); },\r\n        EVENT_MOUSE_LBTN_PRESSED: function () { state_1.STATE.MOUSE.ADD(state_1.STATE.MOUSE.LBTN_HOLDING); },\r\n        EVENT_MOUSE_LBTN_RELEASED: function () { state_1.STATE.MOUSE.DEL(state_1.STATE.MOUSE.LBTN_HOLDING); },\r\n        EVENT_FRAME_TOGGLE_FOLDBODY: function () {\r\n            if (!state_1.STATE.TEMPFRAME.HAS(state_1.STATE.TEMPFRAME.BTN_FOLDBODY))\r\n                state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.BTN_FOLDBODY);\r\n            else\r\n                state_1.STATE.TEMPFRAME.DEL(state_1.STATE.TEMPFRAME.BTN_FOLDBODY);\r\n        },\r\n        EVENT_FRAME_TOGGLE_MINIMIZE: function () {\r\n            if (!state_1.STATE.TEMPFRAME.HAS(state_1.STATE.TEMPFRAME.BTN_MINIMIZE))\r\n                state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.BTN_MINIMIZE);\r\n            else\r\n                state_1.STATE.TEMPFRAME.DEL(state_1.STATE.TEMPFRAME.BTN_MINIMIZE);\r\n        },\r\n        EVENT_FRAME_TOGGLE_TOOLS: function () {\r\n            if (!state_1.STATE.TEMPFRAME.HAS(state_1.STATE.TEMPFRAME.BTN_TOOLS))\r\n                state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.BTN_TOOLS);\r\n            else\r\n                state_1.STATE.TEMPFRAME.DEL(state_1.STATE.TEMPFRAME.BTN_TOOLS);\r\n        },\r\n        EVENT_FRAME_TOGGLE_PINE: function () {\r\n            if (!state_1.STATE.TEMPFRAME.HAS(state_1.STATE.TEMPFRAME.BTN_PINE))\r\n                state_1.STATE.TEMPFRAME.ADD(state_1.STATE.TEMPFRAME.BTN_PINE);\r\n            else\r\n                state_1.STATE.TEMPFRAME.DEL(state_1.STATE.TEMPFRAME.BTN_PINE);\r\n        },\r\n    };\r\n    root.registEvents = {\r\n        EVENT_FRAME_DRAWING_TRIGGERED: root.EnableHostPointerEvent,\r\n        EVENT_FRAME_DRAWING_STOPPED: root.DisableHostPointerEvent,\r\n        EVENT_FRAME_RESIZE_TRIGGERED: root.EnableRootContainerFullScreen,\r\n        EVENT_FRAME_MOVE_BEGIN: root.EnableRootContainerFullScreen,\r\n        EVENT_FRAME_MOVE_END: root.DisableRootContainerFullScreen,\r\n        EVENT_FRAME_RESIZE_END: root.DisableRootContainerFullScreen,\r\n    };\r\n    mask.registEvents = {\r\n        EVENT_NO_MASK: mask.HideMask,\r\n        EVENT_NEED_MASK: mask.ShowMask\r\n    };\r\n    draw.registEvents = {\r\n        EVENT_FRAME_DRAWING_TRIGGERED: draw.OnDrawingFrameTriggered,\r\n        EVENT_FRAME_DRAWING_SATRTED: draw.OnDrawingFrameStarted,\r\n        EVENT_FRAME_DRAWING_MOVING: draw.OnDrawingFrameMoving,\r\n        EVENT_FRAME_DRAWING_STOPPED: draw.OnDrawingFrameStopped,\r\n        EVENT_FRAME_DRAWING_FAIELD: draw.OnDrawingFrameFailed,\r\n    };\r\n    tempframe.registEvents = {\r\n        EVENT_FRAME_DRAWING_SUCCESS: tempframe.OnDrawingSuccess,\r\n        EVENT_FRAME_HIDE: tempframe.OnHide,\r\n        EVENT_FRAME_MOVE_BEGIN: tempframe.OnMoveBegin,\r\n        EVENT_FRAME_MOVING: tempframe.OnMove,\r\n        EVENT_FRAME_MOVE_END: tempframe.OnMoveEnd,\r\n        EVENT_FRAME_MOUSE_HOVER: tempframe.OnMouseHover,\r\n        EVENT_FRAME_RESIZING: tempframe.OnResizing,\r\n        EVENT_FRAME_RESIZE_END: tempframe.OnResizeEnd,\r\n        EVENT_FRAME_SAVE_AS: tempframe.OnSave,\r\n        EVENT_FRAME_TOGGLE_FOLDBODY: tempframe.OnFoldBody,\r\n        EVENT_FRAME_TOGGLE_MINIMIZE: tempframe.OnMinimize,\r\n        EVENT_FRAME_TOGGLE_TOOLS: tempframe.OnOpenToolBox,\r\n        EVENT_FRAME_TOGGLE_PINE: tempframe.OnPine,\r\n    };\r\n};\r\nexports.SetupCoreEventEmitter = SetupCoreEventEmitter;\r\nvar InstallCoreEventEmitter = function (E) {\r\n    E.map(function (e) {\r\n        (0, funcTools_1.InstallEvent)(e.registEvents);\r\n    });\r\n};\r\nexports.InstallCoreEventEmitter = InstallCoreEventEmitter;\r\n//# sourceMappingURL=connector.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ISDEBUG = exports.assetsDir = exports.extensionId = exports.BTN_Red = exports.TempFrameHeaderHeight = exports.TempFrameFooterHeight = exports.CSSClass = exports.extensionBaseName = void 0;\r\nexports.extensionBaseName = \"screen-card\";\r\nfunction setClassName(list) {\r\n    var emptydict = {};\r\n    list.map(function (e) {\r\n        emptydict[e] = \"\".concat(e);\r\n    });\r\n    return emptydict;\r\n}\r\nexports.CSSClass = {\r\n    // noselect:`${extensionBaseName}-noselect`,\r\n    // beGray:`${extensionBaseName}-begray`,\r\n    focus: \"focus\",\r\n    fullScreen: \"fullScreen\",\r\n    crossCursor: \"crossCursor\",\r\n    transitionAll: \"transitionAll\",\r\n    button: \"button\",\r\n    ShadowRootContainer: \"ShadowRootContainer\",\r\n    TempFrameComponent: \"TempFrameComponent\",\r\n    tempFrameContainer: \"tempFrameContainer\",\r\n    tempFrameHeader: \"tempFrameHeader\",\r\n    tempFrameHeaderButtons: {\r\n        fixed: \"fixed\",\r\n        save: \"save\",\r\n        foldbody: \"foldbody\",\r\n        minimize: \"minimize\",\r\n        close: \"close\",\r\n        title: \"title\",\r\n        toolbox: \"toolbox\",\r\n    },\r\n    tempFrameHeaderMoveBar: \"tempFrameHeaderMoveBar\",\r\n    tempFrameHeaderSide: \"tempFrameHeaderSide\",\r\n    tempFrameBody: \"tempFrameBody\",\r\n    tempFrame: \"TempFrame\",\r\n    tempFrameFooter: \"tempFrameFooter\",\r\n    tempFrameFooterButtons: {},\r\n    ShadowRootHost: \"\".concat(exports.extensionBaseName, \"-host\"),\r\n    selectionFrameDiv: \"selectionFrameDiv\",\r\n    blockActionMask: \"blockActionMask\",\r\n    divForBlockMouse: \"divForBlockMouse\",\r\n};\r\nexports.CSSClass.tempFrameFooterButtons = setClassName([\"screenCapture\", \"function\", \"filter\", \"annotGraph\", \"annotText\", \"annotFree\", \"zoomInOut\", \"drag\", \"linkCard\", \"tags\", \"share\", \"shutdown\"]);\r\nexports.TempFrameFooterHeight = 30;\r\nexports.TempFrameHeaderHeight = 30;\r\nexports.BTN_Red = \"#ff3333\";\r\nexports.extensionId = \"fhngaecmpobhnbjhglakokmnbghmnllk\";\r\nexports.assetsDir = \"/assets\";\r\nexports.ISDEBUG = true;\r\n//# sourceMappingURL=constants.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EVENT_FRAME_SET_TITLE = exports.EVENT_FRAME_SAVE_AS = exports.EVENT_FRAME_TOGGLE_PINE = exports.EVENT_FRAME_TOGGLE_TOOLS = exports.EVENT_FRAME_TOGGLE_MINIMIZE = exports.EVENT_FRAME_TOGGLE_FOLDBODY = exports.EVENT_MOUSE_LBTN_RELEASED = exports.EVENT_MOUSE_LBTN_PRESSED = exports.EVENT_FRAME_OUT_BUTTON = exports.EVENT_FRAME_AT_BUTTON = exports.EVENT_FRAME_RESIZE_END = exports.EVENT_FRAME_RESIZING = exports.EVENT_FRAME_RESIZE_BEGIN = exports.EVENT_FRAME_RESIZE_TRIGGERED = exports.EVENT_FRAME_MOUSE_HOVER = exports.EVENT_FRAME_MOVE_END = exports.EVENT_FRAME_MOVING = exports.EVENT_FRAME_MOVE_BEGIN = exports.EVENT_FRAME_SHOW = exports.EVENT_FRAME_HIDE = exports.EVENT_INFOMATION = exports.EVENT_FRAME_DRAWING_FAIELD = exports.EVENT_FRAME_DRAWING_SUCCESS = exports.EVENT_FRAME_DRAWING_STOPPED = exports.EVENT_FRAME_DRAWING_MOVING = exports.EVENT_FRAME_DRAWING_SATRTED = exports.EVENT_FRAME_DRAWING_TRIGGERED = exports.EVENT_NO_MASK = exports.EVENT_NEED_MASK = exports.EVENT_TEMPFRAME_REMOVED = exports.EVENT_TEMPFRAME_APPENDED = void 0;\r\nexports.EVENT_TEMPFRAME_APPENDED = \"EVENT_TEMPFRAME_APPENDED\";\r\nexports.EVENT_TEMPFRAME_REMOVED = \"EVENT_TEMPFRAME_REMOVED\";\r\nexports.EVENT_NEED_MASK = \"EVENT_NEED_MASK\";\r\nexports.EVENT_NO_MASK = \"EVENT_NO_MASK\";\r\nexports.EVENT_FRAME_DRAWING_TRIGGERED = \"EVENT_FRAME_DRAWING_TRIGGERED\";\r\nexports.EVENT_FRAME_DRAWING_SATRTED = \"EVENT_FRAME_DRAWING_SATRTED\";\r\nexports.EVENT_FRAME_DRAWING_MOVING = \"EVENT_FRAME_DRAWING_MOVING\";\r\nexports.EVENT_FRAME_DRAWING_STOPPED = \"EVENT_FRAME_DRAWING_STOPPED\";\r\nexports.EVENT_FRAME_DRAWING_SUCCESS = \"EVENT_FRAME_DRAWING_SUCCESS\";\r\nexports.EVENT_FRAME_DRAWING_FAIELD = \"EVENT_FRAME_DRAWING_FAIELD\";\r\nexports.EVENT_INFOMATION = \"EVENT_INFOMATION\";\r\nexports.EVENT_FRAME_HIDE = \"EVENT_FRAME_HIDE\";\r\nexports.EVENT_FRAME_SHOW = \"EVENT_FRAME_SHOW\";\r\nexports.EVENT_FRAME_MOVE_BEGIN = \"EVENT_FRAME_MOVE_BEGIN\";\r\nexports.EVENT_FRAME_MOVING = \"EVENT_FRAME_MOVING\";\r\nexports.EVENT_FRAME_MOVE_END = \"EVENT_FRAME_MOVE_END\";\r\nexports.EVENT_FRAME_MOUSE_HOVER = \"EVENT_FRAME_MOUSE_HOVER\";\r\nexports.EVENT_FRAME_RESIZE_TRIGGERED = \"EVENT_FRAME_RESIZE_TRIGGERED\";\r\nexports.EVENT_FRAME_RESIZE_BEGIN = \"EVENT_FRAME_RESIZE_BEGIN\";\r\nexports.EVENT_FRAME_RESIZING = \"EVENT_FRAME_RESIZING\";\r\nexports.EVENT_FRAME_RESIZE_END = \"EVENT_FRAME_RESIZE_END\";\r\nexports.EVENT_FRAME_AT_BUTTON = \"EVENT_FRAME_AT_BUTTON\";\r\nexports.EVENT_FRAME_OUT_BUTTON = \"EVENT_FRAME_OUT_BUTTON\";\r\nexports.EVENT_MOUSE_LBTN_PRESSED = \"EVENT_MOUSE_LBTN_PRESSED\";\r\nexports.EVENT_MOUSE_LBTN_RELEASED = \"EVENT_MOUSE_LBTN_RELEASED\";\r\nexports.EVENT_FRAME_TOGGLE_FOLDBODY = \"EVENT_FRAME_TOGGLE_FOLDBODY\";\r\nexports.EVENT_FRAME_TOGGLE_MINIMIZE = \"EVENT_FRAME_TOGGLE_MINIMIZE\";\r\nexports.EVENT_FRAME_TOGGLE_TOOLS = \"EVENT_FRAME_TOGGLE_TOOLS\";\r\nexports.EVENT_FRAME_TOGGLE_PINE = \"EVENT_FRAME_PINE\";\r\nexports.EVENT_FRAME_SAVE_AS = \"EVENT_FRAME_SAVE_AS\";\r\nexports.EVENT_FRAME_SET_TITLE = \"EVENT_FRAME_SET_TITLE\";\r\n// export  const EVENTS = {\r\n//     SELECTION_START: 'SELECTION_START',\r\n//     SELECTION_SUCCESS:\"SELECTION_SUCCESS\",\r\n//     TEMPFRAME_APPENDED:\"TEMPFRAME_APPENDED\",\r\n//     TEMPFRAME_REMOVED:\"TEMPFRAME_REMOVED\",\r\n//     NEED_MASK:\"NEED_MASK\",\r\n//     NO_MASK:\"NO_MASK\",\r\n//     FRAME_DRAWING_TRIGGERED:\"frameDrawingTriggered\",\r\n//     FRAME_DRAWING_SATRTED:\"frameDrawingSatrted\",\r\n//     FRAME_DRAWING_MOVING:\"frameDrawingMoving\",\r\n//     FRAME_DRAWING_STOPPED:\"frameDrawingStopped\",\r\n//     FRAME_DRAWING_SUCCESS:\"FRAME_DRAWING_SUCCESS\",\r\n//     FRAME_DRAWING_FAIELD:\"FRAME_DRAWING_FAIELD\",\r\n//     INFOMATION:\"COMMON_SHOW_INFO\",\r\n// }\r\n//# sourceMappingURL=events.js.map","\"use strict\";\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RemoveChildren = exports.AppendChildren = exports.HasClass = exports.TargetIs = exports.shadowEl = exports.BHas = exports.setElStyle = exports.HideElementInShadowRoot = exports.ShowElementInShadowRoot = exports.consolelog = exports.Dispatch = exports.UninstallEvent = exports.InstallEvent = exports.MakeIconClass = exports.RemoveMaskFromBody = exports.AppendMaskToBody = exports.CursorAtEdge = exports.SwitchFixedToAbsolute = exports.SwitchAbsoluteToFixed = exports.SetElemetCenter = void 0;\r\nvar constants_1 = require(\"./constants\");\r\nvar core_1 = require(\"../core\");\r\nfunction SetElemetCenter(element, x, y) {\r\n}\r\nexports.SetElemetCenter = SetElemetCenter;\r\nfunction SwitchAbsoluteToFixed(element) {\r\n}\r\nexports.SwitchAbsoluteToFixed = SwitchAbsoluteToFixed;\r\nfunction SwitchFixedToAbsolute(element) {\r\n}\r\nexports.SwitchFixedToAbsolute = SwitchFixedToAbsolute;\r\nfunction CursorAtEdge(element, event) {\r\n    var top = element.getBoundingClientRect().top;\r\n}\r\nexports.CursorAtEdge = CursorAtEdge;\r\nfunction AppendMaskToBody(zindex, styles) {\r\n    if (styles === void 0) { styles = {}; }\r\n    consolelog(\"AppendMaskToBody 调用\");\r\n    if (!core_1.CORE.ShadowRoot.querySelector(\".\" + constants_1.CSSClass.blockActionMask)) {\r\n        consolelog(\"AppendMaskToBody !CORE.ShadowRoot.querySelector(\\\".\\\"+CSSClass.blockActionMask)) 调用\");\r\n        var blockActionMask = document.createElement(\"div\");\r\n        blockActionMask.style.height = \"\".concat(document.scrollingElement.scrollHeight, \"px\");\r\n        blockActionMask.classList.add(constants_1.CSSClass.blockActionMask);\r\n        blockActionMask.style.zIndex = \"\".concat(zindex);\r\n        for (var name_1 in styles) {\r\n            blockActionMask.style[name_1] = styles[name_1];\r\n        }\r\n        core_1.CORE.ShadowRoot.appendChild(blockActionMask);\r\n    }\r\n}\r\nexports.AppendMaskToBody = AppendMaskToBody;\r\nfunction RemoveMaskFromBody() {\r\n    if (core_1.CORE.ShadowRoot.querySelector(\".\".concat(constants_1.extensionBaseName, \"-masklayer\")))\r\n        core_1.CORE.ShadowRoot.removeChild(document.querySelector(\".\".concat(constants_1.extensionBaseName, \"-masklayer\")));\r\n}\r\nexports.RemoveMaskFromBody = RemoveMaskFromBody;\r\nfunction MakeIconClass(IconNameList) {\r\n    var buttongroup = {};\r\n    for (var keyname in IconNameList) {\r\n        var iconpath = chrome.runtime.getURL(\"\".concat(constants_1.assetsDir, \"/\").concat(keyname, \".png\"));\r\n        buttongroup[keyname] = \"background-image:url(\".concat(iconpath, \")\");\r\n    }\r\n    return buttongroup;\r\n}\r\nexports.MakeIconClass = MakeIconClass;\r\nvar EventInstalledAt = {};\r\n/**\r\n * 根据地址注册事件, 并且会记录所在位置, 方便后续的卸载与分发事件\r\n * */\r\nfunction InstallEvent(e, place) {\r\n    if (place === void 0) { place = window; }\r\n    Object.keys(e).map(function (key) {\r\n        place.addEventListener(key, function (x) {\r\n            e[key.toString()](x);\r\n        });\r\n        if (!EventInstalledAt[key])\r\n            EventInstalledAt[key] = new Set();\r\n        EventInstalledAt[key].add(place);\r\n    });\r\n}\r\nexports.InstallEvent = InstallEvent;\r\nfunction UninstallEvent(e) {\r\n    Object.keys(e).map(function (key) {\r\n        EventInstalledAt[key].forEach(function (place) {\r\n            place.removeEventListener(key, e[key]);\r\n        });\r\n    });\r\n}\r\nexports.UninstallEvent = UninstallEvent;\r\n/**\r\n * 事件分发会自动根据事件在何处注册进行分发.\r\n * */\r\nfunction Dispatch(eventName, detail, place) {\r\n    if (detail === void 0) { detail = null; }\r\n    if (place === void 0) { place = null; }\r\n    consolelog(\"dispatch event: \".concat(eventName));\r\n    if (EventInstalledAt[eventName] && EventInstalledAt[eventName].size > 0) {\r\n        EventInstalledAt[eventName].forEach(function (place) {\r\n            place.dispatchEvent(new CustomEvent(eventName, { detail: detail }));\r\n        });\r\n    }\r\n    else {\r\n        console.error(eventName + \" 该事件没有在任何元素上注册!\");\r\n    }\r\n}\r\nexports.Dispatch = Dispatch;\r\nfunction consolelog(a) {\r\n    var filter = [\"event\"]; //[\"mouseup\",\"mousemove\",...Object.values(EVENTS)]\r\n    if (constants_1.ISDEBUG) {\r\n        if (filter.some(function (e) { return a.search(e) != -1; }))\r\n            return;\r\n        console.log((new Date()).toLocaleString() + \"---\" + a);\r\n    }\r\n}\r\nexports.consolelog = consolelog;\r\nfunction ShowElementInShadowRoot() {\r\n    var elements = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        elements[_i] = arguments[_i];\r\n    }\r\n    exports.AppendChildren.apply(void 0, __spreadArray([core_1.CORE.ShadowRoot], elements, false));\r\n}\r\nexports.ShowElementInShadowRoot = ShowElementInShadowRoot;\r\nfunction HideElementInShadowRoot() {\r\n    var elements = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        elements[_i] = arguments[_i];\r\n    }\r\n    exports.RemoveChildren.apply(void 0, __spreadArray([core_1.CORE.ShadowRoot], elements, false));\r\n}\r\nexports.HideElementInShadowRoot = HideElementInShadowRoot;\r\nfunction setElStyle(element, style) {\r\n    var elStyle = element.style;\r\n    for (var key in style) {\r\n        elStyle[key] = style[key];\r\n    }\r\n}\r\nexports.setElStyle = setElStyle;\r\n/**\r\n * 位比较\r\n * */\r\nfunction BHas(A, B) {\r\n    return (A & B) === B;\r\n}\r\nexports.BHas = BHas;\r\nfunction shadowEl(selector) {\r\n    return core_1.CORE.ShadowRoot.querySelector(selector);\r\n}\r\nexports.shadowEl = shadowEl;\r\nexports.TargetIs = {\r\n    tempframe: null,\r\n    tempframeComponent: null,\r\n    tempframeContainer: null,\r\n    tempframeHeader: function (target) {\r\n        return shadowEl(\".\" + constants_1.CSSClass.tempFrameHeader) == target;\r\n    },\r\n    tempFrameHeaderMoveBar: function (target) {\r\n        return target.classList.contains(constants_1.CSSClass.tempFrameHeaderMoveBar);\r\n    },\r\n    tempframeHeaderButtons: function (target) {\r\n        return exports.TargetIs.tempframeHeader(target.parentElement.parentElement) && target.classList.contains(constants_1.CSSClass.button);\r\n    },\r\n    tempframeHeaderTitle: function (target) {\r\n        return exports.TargetIs.tempframeHeader(target.parentElement) && target.classList.contains(constants_1.CSSClass.tempFrameHeaderButtons.title);\r\n    },\r\n    tempFrameFooter: function (target) {\r\n        return shadowEl(\".\" + constants_1.CSSClass.tempFrameFooter) == target;\r\n    },\r\n    tempframeFooterButtons: function (target) {\r\n        return exports.TargetIs.tempFrameFooter(target.parentElement) && target.classList.contains(constants_1.CSSClass.button);\r\n    },\r\n};\r\nvar HasClass = function (e, s) {\r\n    return e.className.indexOf(s) >= 0;\r\n};\r\nexports.HasClass = HasClass;\r\nvar AppendChildren = function (parent) {\r\n    var children = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        children[_i - 1] = arguments[_i];\r\n    }\r\n    children.map(function (el) {\r\n        if (!parent.contains(el))\r\n            parent.appendChild(el);\r\n    });\r\n};\r\nexports.AppendChildren = AppendChildren;\r\nvar RemoveChildren = function (parent) {\r\n    var children = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        children[_i - 1] = arguments[_i];\r\n    }\r\n    children.map(function (el) {\r\n        if (parent.contains(el))\r\n            parent.removeChild(el);\r\n    });\r\n};\r\nexports.RemoveChildren = RemoveChildren;\r\n//# sourceMappingURL=funcTools.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.styles_sheet = void 0;\r\nvar constants_1 = require(\"./constants\");\r\nvar funcTools_1 = require(\"./funcTools\");\r\nexports.styles_sheet = {\r\n    default: {},\r\n    other: {},\r\n    buttonIcons: {}, //key是class\r\n};\r\nexports.styles_sheet.default[constants_1.CSSClass.ShadowRootHost] = \"\\nposition: absolute;\\nleft: 0;\\ntop:0;\\npointer-events: none;\\nuser-select: none;\\nwidth:100%;\\nheight:\".concat(document.scrollingElement.scrollHeight, \"px;\\nz-index:99999;\\n\");\r\nexports.styles_sheet.default[constants_1.CSSClass.crossCursor] = \"cursor: crosshair;\";\r\nexports.styles_sheet.default[constants_1.CSSClass.button] = \"\\nbackground-size:100% 100%;\\nbackground-repeat:no-repeat;\\ntransition:all 200ms;\\nwidth:20px;\\nheight:20px;\\n\";\r\nexports.styles_sheet.other[\".\".concat(constants_1.CSSClass.tempFrameHeaderSide, \" > div,.\").concat(constants_1.CSSClass.tempFrameFooter, \" > div\")] = \"\\nborder-radius: 4px;\\npadding:3px;\\n\";\r\nexports.styles_sheet.other[\".\".concat(constants_1.CSSClass.tempFrameHeaderSide, \" > div:hover,.\").concat(constants_1.CSSClass.tempFrameFooter, \" > div:hover\")] = \"\\nbox-shadow: 4px 4px 4px #494949;\\n\";\r\nexports.styles_sheet.other[\".\".concat(constants_1.CSSClass.tempFrameHeaderSide, \" > div:active, .\").concat(constants_1.CSSClass.tempFrameFooter, \" > div:active\")] = \"\\nbackground-color: \".concat(constants_1.BTN_Red, \";\\n\");\r\nfor (var keyname in constants_1.CSSClass.tempFrameHeaderButtons) {\r\n    var iconpath = chrome.runtime.getURL(\"\".concat(constants_1.assetsDir, \"/\").concat(keyname, \".png\"));\r\n    if (keyname == \"title\") {\r\n        exports.styles_sheet.buttonIcons[keyname] = \" \\n            color:white;\\n            text-align:center;\\n            \";\r\n    }\r\n    else {\r\n        exports.styles_sheet.buttonIcons[keyname] = \"background-image:url(\".concat(iconpath, \")\");\r\n    }\r\n}\r\nexports.styles_sheet.buttonIcons = Object.assign({}, exports.styles_sheet.buttonIcons, (0, funcTools_1.MakeIconClass)(constants_1.CSSClass.tempFrameFooterButtons));\r\nexports.styles_sheet.default[constants_1.CSSClass.selectionFrameDiv] = \"\\nposition: absolute;\\nborder:1px dotted;\\ndisplay:block;\\n\";\r\nexports.styles_sheet.default[constants_1.CSSClass.blockActionMask] = \"\\nposition: absolute;\\nleft: 0;\\ntop: 0;\\nwidth: 100%;\\nbackground-color:red;\\nopacity: 0.8;\\n \";\r\n//一个小方框\r\nexports.styles_sheet.default[constants_1.CSSClass.divForBlockMouse] = \"\\nposition: absolute;\\ntransform:translate(-50%,-50%);\\nwidth: 20px;\\nheight: 20px;\\nborder:1px dotted;\\ncursor:crosshair;\\n\";\r\nexports.styles_sheet.default[constants_1.CSSClass.tempFrameHeaderMoveBar] = \"\\nposition: absolute;\\nleft:50%;\\ntop:3px;\\nwidth:30%;\\nmax-width:150px;\\nheight:50%;\\nmax-height:20px;\\nbackground-color:white;\\nopacity: 0.5;\\nborder-radius:3px;\\nbox-shadow: 1px 1px 1px;\\ncursor:all-scroll;\\ntransform:translate(-50%,0);\\n\";\r\nexports.styles_sheet.default[constants_1.CSSClass.tempFrameContainer] = \"\\nwidth:100%;\\nheight:100%;\\ndisplay:grid;\\ngrid-template-columns: 100%;\\ngrid-template-rows: min-content auto min-content; \\n\";\r\nexports.styles_sheet.default[constants_1.CSSClass.TempFrameComponent] = \"\\nposition:absolute;\\nborder-radius: 4px;\\nbox-shadow: 1px 1px 10px #000000b0;\\noverflow:hidden;\\n\";\r\nexports.styles_sheet.default[constants_1.CSSClass.tempFrameHeader] = \"\\ndisplay:grid;\\nheight:\".concat(constants_1.TempFrameHeaderHeight, \"px;\\nalign-items:center;\\njustify-content: space-between;\\ngrid-template-rows:\").concat(constants_1.TempFrameHeaderHeight, \"px;\\ngrid-template-columns: min-content max-content min-content;\\nbackground-image:linear-gradient(#a6e3f5,#81bae0);\\n\");\r\nexports.styles_sheet.default[constants_1.CSSClass.tempFrameFooter] = \"\\nbackground-image:linear-gradient(#a6e3f5,#81bae0);\\ndisplay:grid;\\njustify-content: center;\\nalign-items: center;\\ngrid-gap: 2px;\\ngrid-template-columns: repeat(auto-fit,30px);\\nheight:\".concat(constants_1.TempFrameFooterHeight, \"px;\\ngrid-template-rows:\").concat(constants_1.TempFrameFooterHeight, \"px;\\n\");\r\nexports.styles_sheet.default[constants_1.CSSClass.ShadowRootContainer] = \"\\npointer-events:all;\\n\";\r\nexports.styles_sheet.default[constants_1.CSSClass.transitionAll] = \"\\ntransition:all 100ms;\\n\";\r\nexports.styles_sheet.default[constants_1.CSSClass.fullScreen] = \"\\nposition:absolute;\\nwidth:100%;\\nheight:100%;\\nleft:0px;\\ntop:0px;\\n\";\r\nexports.styles_sheet.default[constants_1.CSSClass.tempFrameHeaderSide] = \"\\ndisplay: grid;\\ngrid-template-rows:30px;\\ngrid-template-columns: repeat(3,\".concat(constants_1.TempFrameFooterHeight, \"px);\\nalign-items: center;\\nheight:\").concat(constants_1.TempFrameFooterHeight, \"px;\\ngrid-gap: 2px;\\n\");\r\n//# sourceMappingURL=styles_sheet.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = require(\"./core\");\r\nvar funcTools_1 = require(\"./utils/funcTools\");\r\nconsole.log(\"injection 文件已经加载\");\r\ncore_1.CORE.InstallStyles();\r\ncore_1.CORE.InstallDisptach();\r\ncore_1.CORE.InstallEvents();\r\nchrome.runtime.onMessage.addListener(function (message, sender, sendResponse) {\r\n    console.log(sender.tab ?\r\n        \"from a content script:\" + sender.tab.url :\r\n        \"from the extension\");\r\n    if (message.EVENT == \"EVENT_FRAME_DRAWING_TRIGGERED\" && core_1.CORE.STATE.FRAME_DRAWING.IsBasicState()) {\r\n        (0, funcTools_1.Dispatch)(message.EVENT);\r\n    }\r\n});\r\n//# sourceMappingURL=injection.js.map"],"names":[],"sourceRoot":""}